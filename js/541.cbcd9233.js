"use strict";(self["webpackChunkjing_shop_main"]=self["webpackChunkjing_shop_main"]||[]).push([[541],{3714:function(t,e,o){function s(t){const e=parseInt(t,10);return`${e.toFixed(0).replace(/./g,((t,e,o)=>e&&"."!==t&&(o.length-e)%3===0?`, ${t}`.replace(/\s/g,""):t))}`}o.d(e,{A:function(){return s}})},2541:function(t,e,o){o.r(e),o.d(e,{default:function(){return x}});var s=o(6252),i=o(3577),r=o(9963);const a=t=>((0,s.dD)("data-v-5e8eb02a"),t=t(),(0,s.Cn)(),t),l={class:"product"},d={class:"container"},c={class:"productMain"},n={class:"productImg"},u=["src","alt"],p=["src","alt"],h=["src","alt"],g=["src","alt"],w={class:"productInfo"},m={class:"price"},_={class:"origin_price"},v=a((()=>(0,s._)("hr",null,null,-1))),b=a((()=>(0,s._)("p",{class:"size"},[(0,s._)("span",null,"F")],-1))),k={class:"color"},y=["onClick"],f={class:"num"},C=(0,s.uE)('<option value="1" data-v-5e8eb02a>1</option><option value="2" data-v-5e8eb02a>2</option><option value="3" data-v-5e8eb02a>3</option><option value="4" data-v-5e8eb02a>4</option><option value="5" data-v-5e8eb02a>5</option><option value="6" data-v-5e8eb02a>6</option><option value="7" data-v-5e8eb02a>7</option><option value="8" data-v-5e8eb02a>8</option><option value="9" data-v-5e8eb02a>9</option><option value="10" data-v-5e8eb02a>10</option>',10),P=[C],S=["disabled"],$=a((()=>(0,s._)("hr",null,null,-1))),q={class:"description"},D=a((()=>(0,s._)("br",null,null,-1))),j=a((()=>(0,s._)("hr",null,null,-1))),z={class:"description"},A={class:"otherSwiper otherProducts"},I=a((()=>(0,s._)("h4",null,"相關商品",-1))),T=["onClick"],W=["src","alt"];function U(t,e,o,a,C,U){const B=(0,s.up)("LoadingComponent"),H=(0,s.up)("swiper-slide"),L=(0,s.up)("swiper");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(B,{active:C.isLoading},null,8,["active"]),(0,s._)("div",l,[(0,s._)("div",d,[(0,s._)("div",c,[(0,s._)("div",n,[(0,s.Wm)(L,{spaceBetween:10,navigation:!0,thumbs:{swiper:C.thumbsSwiper},modules:C.modules,class:"mySwiper2"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s._)("img",{src:C.product.imgUrl,alt:C.product.title},null,8,u)])),_:1}),C.product.images?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(C.product.images,((t,e)=>((0,s.wg)(),(0,s.j4)(H,{key:e},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t,alt:`${C.product.title}${e}`},null,8,p)])),_:2},1024)))),128)):(0,s.kq)("",!0)])),_:1},8,["thumbs","modules"]),(0,s.Wm)(L,{onSwiper:U.setThumbsSwiper,breakpoints:C.breakpoints,freeMode:!0,watchSlidesProgress:!0,modules:C.modules,class:"mySwiper"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,null,{default:(0,s.w5)((()=>[(0,s._)("img",{src:C.product.imgUrl,alt:C.product.title},null,8,h)])),_:1}),C.product.images?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(C.product.images,((t,e)=>((0,s.wg)(),(0,s.j4)(H,{key:e},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t,alt:`${C.product.title}${e}`},null,8,g)])),_:2},1024)))),128)):(0,s.kq)("",!0)])),_:1},8,["onSwiper","breakpoints","modules"])]),(0,s._)("div",w,[(0,s._)("h3",null,(0,i.zw)(C.product.title),1),(0,s._)("p",m,[(0,s._)("span",null,"NTD "+(0,i.zw)(U.currency(C.product.price)),1),(0,s._)("span",_,"NTD "+(0,i.zw)(U.currency(C.product.origin_price)),1)]),v,b,(0,s._)("p",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(C.colorArr,(t=>((0,s.wg)(),(0,s.iD)("a",{href:"#",class:(0,i.C_)({active:C.color===t}),onClick:(0,r.iM)((e=>C.color=t),["prevent"]),key:t},(0,i.zw)(t),11,y)))),128))]),(0,s._)("p",f,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>C.qty=t)},P,512),[[r.bM,C.qty]])]),(0,s._)("button",{class:"addCart",type:"button",onClick:e[1]||(e[1]=(...t)=>U.addToCart&&U.addToCart(...t)),disabled:C.loading},"加入購物車",8,S),$,(0,s._)("p",q,[(0,s.Uk)(" 詳細介紹 | "),D,(0,s.Uk)(" "+(0,i.zw)(C.product.description),1)]),j,(0,s._)("p",z,(0,i.zw)(C.product.content),1)])]),(0,s._)("div",A,[I,(0,s.Wm)(L,{slidesPerView:2,spaceBetween:24,navigation:!0,loop:!1,breakpoints:{768:{slidesPerView:4,spaceBetween:24}},modules:C.modules,class:"pdlikeSlide"},{default:(0,s.w5)((()=>[C.products?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(U.otherProducts,((t,e)=>((0,s.wg)(),(0,s.j4)(H,{key:t.id},{default:(0,s.w5)((()=>[e<10?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"#",class:"otherProductItem",onClick:(0,r.iM)((e=>U.getOtherProduct(t.id)),["prevent"])},[(0,s._)("img",{src:t.imgUrl,alt:t.title},null,8,W)],8,T)):(0,s.kq)("",!0)])),_:2},1024)))),128)):(0,s.kq)("",!0)])),_:1},8,["modules"])])])])],64)}o(7658);var B=o(7552),H=o(9304),L=o(3714),M={data(){return{id:"",qty:1,products:null,product:{},addCart:{},loading:!1,colorArr:"",color:null,swiper:{},isLoading:!1,modules:[H.Rv,H.W_,H.o3],thumbsSwiper:null,breakpoints:{320:{slidesPerView:3,spaceBetween:10,slidesPerGroup:3},768:{slidesPerView:3,spaceBetween:10,slidesPerGroup:3}}}},components:{Swiper:B.tq,SwiperSlide:B.o5},inject:["emitter"],computed:{otherProducts(){return this.products.filter((t=>t.category===this.product.category))}},methods:{currency:L.A,getAllProducts(){const t="https://vue3-course-api.hexschool.io/api/jingyan/products/all";this.$http.get(t).then((t=>{this.products=t.data.products,console.log(this.products)}))},getProduct(){this.isLoading=!0;let t="";const e=`https://vue3-course-api.hexschool.io/api/jingyan/product/${this.id}`;this.$http.get(e).then((e=>{this.product=e.data.product,t=e.data.product.description2,console.log(t),this.colorArr=t.split(" "),this.isLoading=!1,console.log(this.product)}))},addToCart(){if(this.addCart.product_id=this.id,this.addCart.qty=parseInt(this.qty,10),this.addCart.color=this.color,this.loading=!0,null===this.color)alert("尚未選擇顏色，請點選"),this.loading=!1;else{const t="https://vue3-course-api.hexschool.io/api/jingyan/cart";this.$http.post(t,{data:this.addCart}).then((t=>{t.data.success&&this.emitter.emit("push-message",{style:"success",title:"已加入購物車"}),this.loading=!1,console.log(t)}))}},getOtherProduct(t){this.$router.push(`/products/${t}`),this.id=t,this.getProduct()},setThumbsSwiper(t){this.thumbsSwiper=t}},created(){this.id=this.$route.params.productId,this.getProduct(),this.getAllProducts()}},V=o(3744);const Y=(0,V.Z)(M,[["render",U],["__scopeId","data-v-5e8eb02a"]]);var x=Y}}]);
//# sourceMappingURL=541.cbcd9233.js.map